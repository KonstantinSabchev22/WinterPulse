extends ../layout.pug

block content
    .container
        h1 Add Product

        form(method="POST", action="/admin/products/add-product")
            // Category Selection
            .form-group
                label(for="category") Select Category:
                select#category.form-control(name="category", required, onchange="updateFormFields()")
                    option(value="") -- Select a Category --
                    option(value="snowboard") Snowboard
                    option(value="ski") Ski
                    option(value="shoes") Shoes
                    option(value="hats") Hats

            // Common Fields
            .form-group
                label(for="name") Product Name:
                input#name.form-control(type="text", name="name", required)

            .form-group
                label(for="model") Model:
                input#model.form-control(type="text", name="model", required)

            .form-group
                label(for="price") Price ($):
                input#price.form-control(type="number", name="price", step="0.01", required)

            .form-group
                label(for="imageUrl") Image URL:
                input#imageUrl.form-control(type="text", name="imageUrl", required)

            // Fields for Snowboards & Skis
            .form-group#lengthGroup(style="display: none;")
                label(for="length") Length (cm):
                input#length.form-control(type="number", name="length")

            .form-group#materialGroup(style="display: none;")
                label(for="material") Material:
                input#material.form-control(type="text", name="material")

            // Field for Shoes & Hats
            .form-group#sizeGroup(style="display: none;")
                label(for="size") Size:
                input#size.form-control(type="text", name="size")

            button.btn.btn-primary(type="submit") Add Product

    script.
        function updateFormFields() {
            var category = document.getElementById('category').value;
            document.getElementById('lengthGroup').style.display = (category === 'snowboard' || category === 'ski') ? 'block' : 'none';
            document.getElementById('materialGroup').style.display = (category === 'snowboard' || category === 'ski') ? 'block' : 'none';
            document.getElementById('sizeGroup').style.display = (category === 'shoes' || category === 'hats') ? 'block' : 'none';
        }
