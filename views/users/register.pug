extends ../layout

block content
    .form-wrapper
        form#signupForm(method='POST', action='/users/register', class='form-container')
            h2.text-center Регистрация
            
            label(for='firstName') Име
            input.form-control(type='text', id='firstName', name='firstName', placeholder='Въведете вашето име', required)
            
            label(for='lastName') Фамилия
            input.form-control(type='text', id='lastName', name='lastName', placeholder='Въведете вашата фамилия', required)
            
            label(for='email') Имейл
            input.form-control(type='email', id='email', name='email', placeholder='Въведете вашия имейл', required)
            
            label(for='password') Парола
            input.form-control(type='password', id='password', name='password', placeholder='Въведете парола', required)
            
            label(for='password2') Повтори парола
            input.form-control(type='password', id='password2', name='password2', placeholder='Повторете паролата', required)

            span#errorPassword.error(style='display:none; color:red; font-size:0.9rem;') Паролите не съвпадат

            input.btn.btn-primary.btn-block(type='submit', value='Регистрация')

    style.
        .form-wrapper {
            width: 100%;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: url('/images/background.jpg') no-repeat center center fixed;
            background-size: cover;
        }

        .form-container {
            width: 100%;
            max-width: 400px;
            padding: 20px;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.9);
            box-shadow: 0px 0px 15px rgba(0, 0, 0, 0.2);
        }

        @media (min-width: 768px) {
            .form-container {
                max-width: 50%;
            }
        }

        @media (min-width: 992px) {
            .form-container {
                max-width: 33.33%;
            }
        }

    script.
        document.getElementById("signupForm").addEventListener("submit", (event) => {
            event.preventDefault();

            let password = document.getElementById("password").value;
            let password2 = document.getElementById("password2").value;
            let error = document.getElementById("errorPassword");

            if (password !== password2) {
                error.style.display = "block";
                error.innerHTML = "Паролите не съвпадат";
                return;
            } else {
                error.style.display = "none";
                document.getElementById("signupForm").submit();
            }
        });
